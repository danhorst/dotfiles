PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/var/lib/gems/1.8/bin:$JAVA_HOME:$FEDORA_HOME/server/bin:$FEDORA_HOME/client/bin:/opt/oracle/instantclient:$HOME/bin:/opt/vagrant/bin"
export PATH

export SCRIPT_HOME='/home/dbrubak1/.config/repository/script'
export XDG_DATA_HOME='/home/dbrubak1/.local/share'

export GREP_OPTIONS='--color=auto'
export GREP_COLOR='7;31'

export LD_LIBRARY_PATH='/opt/oracle/instantclient'
export SQLPATH='/opt/oracle/instantclient'
export TNS_ADMIN='/opt/oracle/instantclient'

export EDITOR='/usr/bin/vim'

alias ll='ls -l'
alias la='ls -la'

alias v='vim'
alias ack='ack-grep'
alias ackt='ack-grep --text'
alias tz='tar -xzvf'
alias open='gnome-open'
alias tidyx='tidy -mi -xml -utf8'
alias xclip='xclip -selection c'
alias jar='java -jar'
alias ct='ctags -R -f ctags --exclude=.git --exclude=log --extra=+f --langdef=file --langmap='file:.rb.erb''

alias pngc='pngcrush -rem alla -reduce -brute'

alias want='~/.config/dotfiles/script/want.sh'
alias bm='~/.config/dotfiles/script/bookmark.sh'
alias nbm='wc -l ~/Dropbox/Elements/links.txt'
alias vbm='vim ~/Dropbox/Elements/links.txt'

alias hm='cd ~/'

. ~/Documents/ND/Utility/nd.sh

function rr {
  if [ -f script/server ]; then
    script/server $@
  else
   rails server $@
  fi
}
function console {
  if [ -f script/console ]; then
    script/console $@
  else
    rails console $@
  fi
}
function rg {
  if [ -e script/generate ]; then
    script/generate $@
  else
    rails generate $@
  fi
}
alias rrr='ss -e dev_remote'
alias rrc='ss -e dev_cached'
alias rrd='ruby script/server --debugger'
alias rreset='rake db:migrate:reset && rake db:fixtures:load && rake db:test:prepare && rake'
alias rebuild='rake db:drop db:create db:migrate db:seed'

alias b='bundle exec'
alias r='b rake'
alias g='b guard'
alias ts='b thin start'
alias mm='middleman'

alias ga='git add . && gst'
alias gamd='git commit -a --amend'
alias gb='git branch'
alias gba='git branch -a'
alias gbl='git branch -l'
alias gca='git commit -v -a'
alias gd='git diff'
alias gdh='git diff HEAD'
alias gl='git lg'
alias glp='gl -p'
alias gmt='git mergetool'
alias gpo='git push origin master'
alias gpr='git pull --rebase'
alias grc='git rebase --continue'
alias gsh='git show'
alias gst='git status --ignore-submodules=dirty'

alias gsd='git svn dcommit --username dbrubak1'
alias gsf='git svn fetch'
alias gsr='git svn rebase'

alias t="$SCRIPT_HOME/todo.sh -d $SCRIPT_HOME/todo.cfg"
alias ta="$SCRIPT_HOME/todo.sh -d $SCRIPT_HOME/todo.cfg add"
alias tp="$SCRIPT_HOME/todo.sh -d $SCRIPT_HOME/todo.cfg projectview"

function parse_git_branch() {
  git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/(git::\1)/'
}
function parse_svn_branch() {
  parse_svn_url | sed -e 's#^'"$(parse_svn_repository_root)"'##g' | awk -F / '{print "(svn::"$1 "/" $2 ")"}'
}
function parse_svn_url() {
  svn info 2>/dev/null | grep -e '^URL*' | sed -e 's#^URL: *\(.*\)#\1#g '
}
function parse_svn_repository_root() {
  svn info 2>/dev/null | grep -e '^Repository Root:*' | sed -e 's#^Repository Root: *\(.*\)#\1\/#g '
}
function parse_scm_branch() {
  local value=$(parse_git_branch)
  if [ -z "$value" ]; then
    local value=$(parse_svn_branch)
  fi
  echo "$value"
}

export PS1="\[\033[00m\]\u@\h\[\033[01;34m\] \w \[\033[31m\]\$(parse_scm_branch) \[\033[00m\]$\[\033[00m\] "
export LESS="-R"

PATH=$PATH:$HOME/.rvm/bin # Add RVM to PATH for scripting
[[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm"
